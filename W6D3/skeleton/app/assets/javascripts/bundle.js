!function(t){var e={};function l(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=e,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},l.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l(l.s=2)}([function(t,e){const l={followUser:t=>$.ajax({url:`/users/${t}}/follow`,method:"POST",dataType:"json"}),unfollowUser:t=>$.ajax({url:`/users/${t}}/follow`,method:"DELETE",dataType:"json"})};t.exports=l},function(t,e,l){const o=l(0);t.exports=class{constructor(t){this.followState=t.data("initial-follow-state"),this.userId=t.data("user-id"),this.$el=t,this.render(),this.bindEvents()}render(){!0!==this.$el.data("initial-follow-state")||this.$el.hasClass("disabled")?this.$el.text("Follow"):this.$el.text("Unfollow")}async handleClick(t){let e;"delete"==(t.data("initial-follow-state")?"delete":"post")?(t.text("Unfollowing..."),t.addClass("disabled"),e=o.unfollowUser(this.userId),await e,this.render()):(t.text("Following..."),t.addClass("disabled"),this.render(),e=o.followUser(this.userId),console.log("this.userId",this.userId),await e),t.removeClass("disabled");let l=!t.data("initial-follow-state");t.data("initial-follow-state",l),this.render()}async bindEvents(){await this.$el.on("click",t=>{const e=$(t.target);this.handleClick(e)})}}},function(t,e,l){const o=l(1);$(()=>{$(".follow-toggle").each(function(){new o($(this))})})}]);
//# sourceMappingURL=bundle.js.map